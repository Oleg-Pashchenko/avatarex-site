{% extends "core/base.html" %}

{% block head %}
    {{ block.super }}
{% endblock %}
{% block content %}
    <a href="{% url 'home' %}" class="m-3">Вернуться на главную без сохранения</a>

    <h4 class="m-3">Ваши настройки режима работы с базой данных:</h4>

    <legend class="border-bottom mb-4"></legend>

    {% csrf_token %}
    <div class="container">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="input-group-prepend">
                <span class="input-group-text">Файл XLSX с базой данных:</span>
                <label class="input-group-text custom-file-upload">Нажмите сюда для выбора
                    файла             <input type="file" name="file" accept=".xlsx"> <!-- Add the desired file types -->
</label>
                <button type="submit" class="input-group-text">Загрузить</button>
            </div>
        </form>

        {% if has_file %}

            <h4 class="mt-4">Выбрана база: {{ filename }}</h4>

            <h4 class="mt-4">Полученные параметры из таблицы:</h4>
            <div class="col-12">
            <table>
                <thead>
                <tr class="row">
                    {% for name in names %}
                        <th class="col-6">{{ name }}</th>
                    {% endfor %}
                </tr>
                </thead>
            </table>
            </div>

            <h4 class="mt-4">Условия подбора ответа:</h4>
            {% for name in names %}
            <div class="mt-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">Условие для столбца {{ name }}:</span>
                     <input name="{{ name }}" class="input-group-text">
                </div>
            </div>
            {% endfor %}
            </div>
        {% endif %}
    <div class="widget-container text-white rounded p-2">
        <p class="d-inline-block m-0">После внесения изменений нажмите на кнопку.</p>
        <button id="save-button" class="btn btn-light ml-2">Сохранить</button>
    </div>
    <br/>
    <br/>
    <br/>
    <br/>


{% endblock content %}
